<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Browser Interface &mdash; BMI3D 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="BMI3D 1.0 documentation" href="index.html" />
    <link rel="next" title="Brain-machine interface (BMI) code" href="bmi.html" />
    <link rel="prev" title="The Database" href="database.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="bmi.html" title="Brain-machine interface (BMI) code"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="database.html" title="The Database"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">BMI3D 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-browser-interface">
<h1>The Browser Interface<a class="headerlink" href="#the-browser-interface" title="Permalink to this headline">¶</a></h1>
<p>[This document still in progress]</p>
<div class="section" id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h2>
<p>To allow various interface and peripheral devices to operate asynchronously, a single task started through the web interface is actually comprised of many processes. For example, below might be an example of a task + features. Processes always span in the tree structure shown on the left and tend to communicate with each other in the directions shown (though all communication links are bidirectional).</p>
<blockquote>
<div><img alt="_images/processes.png" src="_images/processes.png" />
</div></blockquote>
<p>In this codebase, asynchronous computation tends to happen in separate processes. In the existing functionality, there is not much need for processes to share the same memory space. The main reason for keeping things asynchronous is that the main task event loop must execute repeatedly in ~15 ms, which may be too restrictive for some tasks to fully finish execution. This means threads and processes tend to be functionally equivalent for the existing functionality.</p>
<blockquote>
<div><img alt="_images/webserver_setup.png" src="_images/webserver_setup.png" />
</div></blockquote>
<p>The main mechanisms for inter-process communication (IPC) are pipes (common alternatives include shared memory, sockets, files, etc.). In normal operation, the main &#8220;parent&#8221; process is the webserver (we will treat it as one process for this discussion). Spawning another process in which to run the task allows the webserver to continue responding to browser events while the task runs independently (e.g., so you can look at old tasks and figure out what to do next).</p>
<p>Sometimes the side tasks requested through the web browser are totally independent and don&#8217;t require any communication, but you still want to be able to do them without freezing the browser. An example might include training a BMI decoder, which might take a few minutes but does not require user/peripheral device input. In that case, spawning the very specific &#8220;task&#8221; process is overkill since no IPC is needed. In these cases, the celery package provides functionality for simply wrapping a function and having it run asynchronously. An example of this can be seen in the file db/trainbmi.py, in which the functions cache_plx and make_bmi have been marked as celery tasks through the use of the &#64;tasks() decorators. This adds a method &#8216;.si&#8217; to the function (yes, it is strange for a function to have methods, but in python, functions are objects too!) which are used by the function cache_and_train to run the tasks asynchronously.</p>
</div>
<div class="section" id="data-transfer-between-the-browser-and-the-webserver">
<h2>Data transfer between the browser and the webserver<a class="headerlink" href="#data-transfer-between-the-browser-and-the-webserver" title="Permalink to this headline">¶</a></h2>
<p>Code on the &#8220;client-side&#8221; browser for submitting forms, etc. runs in Javascript while the server-side webserver operates in Python. Any data generated by one end must be interpretable by the other end. This code base uses two mechanisms for transferring data between the webserver and the browser</p>
<ol class="arabic simple">
<li>Django html templates. Django templates are useful for generating <em>static</em> content on the browser, with data sent from the webserver to the browser (does not work in the other direction). Example templates can be found in the folder <tt class="docutils literal"><span class="pre">$BMI3D/db/html/templates/</span></tt>. These HTML files have random bits of python code injected in between the HTML. When the webserver generates a URL response, it can take one of these templates, parse it for the inline python, and if the appropriate data variables are supplied, it can generate appropriate HTML. Since it is generating HTML and not JS, the content is &#8220;static&#8221;. Examples can be found in <tt class="docutils literal"><span class="pre">$BMI3D/db/views.py</span></tt>. More information can be found in the Django documentation on Templates: <a class="reference external" href="https://docs.djangoproject.com/en/1.8/topics/templates/">https://docs.djangoproject.com/en/1.8/topics/templates/</a></li>
<li>JavaScript Object Notation (JSON). JSON is a convenient way of serializing JavaScript objects and Python comes built in with some code to handle some of the deserialization of JSON objects. The data for populating the specific parameters of an old experiment or the data sent to the server to start a new task with a certain set of parameters uses JSON encoding. The module <tt class="docutils literal"><span class="pre">db.json_param</span></tt> handles the conversion of parameter data to and from JSON format. In addition, Django models in <tt class="docutils literal"><span class="pre">db.tracker.models</span></tt> all have instance methods <tt class="docutils literal"><span class="pre">.to_json()</span></tt> which converts the data for a particular database record to JSON format for display on the browser. Most of these are straightforward but the method <tt class="docutils literal"><span class="pre">db.tracker.models.TaskEntry.to_json</span></tt> is relatively involved since it&#8217;s the core database record.</li>
</ol>
</div>
<div class="section" id="interacting-with-the-task">
<h2>Interacting with the task<a class="headerlink" href="#interacting-with-the-task" title="Permalink to this headline">¶</a></h2>
<p>When the task is running in a process spawned by the webserver, normal object-oriented methods of interacting with the task (e.g., to determine what state the task&#8217;s FSM is, telling the task to start a new trial, telling the task to stop, etc.) go out the window. So a new method is needed to try and send the task commands.</p>
<p>Let&#8217;s look at stopping the task as an example. After a task is started, the web interface presents the experimenter with a &#8220;Stop Experiment&#8221; button which enables the task to stop gracefully (save all the data and link data files to the database cleanly).</p>
<ol class="arabic">
<li><p class="first">In the html file <tt class="docutils literal"><span class="pre">$BMI3D/db/templates/exp_content.html</span></tt> (contains the HTML used when you click on a block), the &#8220;Stop Experiment&#8221; button is created and given the id <tt class="docutils literal"><span class="pre">#stopbtn</span></tt></p>
</li>
<li><p class="first">In the html file <tt class="docutils literal"><span class="pre">$BMI3D/db/templates/list.html</span></tt> (the main HTML file), the line</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#stopbtn&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">taskaction</span> <span class="o">=</span> <span class="s2">&quot;stop&quot;</span><span class="p">;</span> <span class="p">})</span>
</pre></div>
</div>
<p>binds the &#8220;click&#8221; action of the object <tt class="docutils literal"><span class="pre">#stopbtn</span></tt> to a function which sets the variable taskaction to <tt class="docutils literal"><span class="pre">&quot;stop&quot;</span></tt></p>
</li>
<li><p class="first">[Javascript Magic. Since this is our JS, this actually should be filled in]</p>
</li>
<li><p class="first">In the javascript file <tt class="docutils literal"><span class="pre">$BMI3D/db/static/resources/js/list.js</span></tt>, the function <tt class="docutils literal"><span class="pre">TaskEntry.prototype.stop</span></tt> is executed. The line</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">$</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s2">&quot;stop&quot;</span><span class="p">,</span> <span class="nx">csrf</span><span class="p">,</span> <span class="nx">TaskInterface</span><span class="p">.</span><span class="nx">trigger</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
</pre></div>
</div>
<p>sends a POST request to the URL localhost:8000/stop (the &#8220;localhost:8000/&#8221; of the URL is implicit, as the URL is sent to a relative path, not an absolute path. so actually the request is sent to <tt class="docutils literal"><span class="pre">CURRENT_URL+&quot;/stop&quot;</span></tt>). This is the address and port number that the webserver is listening to.</p>
</li>
<li><p class="first">[Django Magic. Since Django is pretty well maintained, we&#8217;ll assume that they&#8217;re on top of their magic and omit the details here. Also we don&#8217;t know those details.]</p>
</li>
<li><p class="first">The URL is cross-referenced with the list of known URLs in <tt class="docutils literal"><span class="pre">$BMI3D/db/urls.py</span></tt>, stored in the variable <tt class="docutils literal"><span class="pre">urlpatterns</span></tt>. <tt class="docutils literal"><span class="pre">urlpatterns</span></tt> is an iterable of 2-tuples, where the first element of each tuple is the matching address (specified as a regular expression) and the second element is the appropriate function to call in response to the URL. Our stop request will match with the line</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="s">r&#39;^stop/?&#39;</span><span class="p">,</span> <span class="s">&#39;tracker.ajax.stop_experiment&#39;</span><span class="p">),</span>
</pre></div>
</div>
</li>
<li><p class="first">The URL lookup directs the URL handler to execute the function <tt class="docutils literal"><span class="pre">tracker.ajax.stop_experiment</span></tt>, located in the file <tt class="docutils literal"><span class="pre">$BMI3D/db/tracker/ajax.py</span></tt>. At the top of <tt class="docutils literal"><span class="pre">ajax.py</span></tt>, an object called <tt class="docutils literal"><span class="pre">exp_tracker</span></tt> is instantiated. This is the singleton instantiation of the <tt class="docutils literal"><span class="pre">Track</span></tt> class defined in <tt class="docutils literal"><span class="pre">$BMI3D/db/tasktrack.py</span></tt>. The function <tt class="docutils literal"><span class="pre">tracker.ajax.stop_experiment</span></tt> instructs the exp_tracker to call the function <tt class="docutils literal"><span class="pre">Track.stoptask</span></tt> defined in <tt class="docutils literal"><span class="pre">$BMI3D/db/tasktrack.py</span></tt></p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">tracker.ajax.stop_experiment</span></tt> makes use of the higher-order function <tt class="docutils literal"><span class="pre">rpc</span></tt>. The acronym RPC is short for remote procedure call. (The number of remaining steps would indicate that the procedure is being called <em>very</em> remotely). <tt class="docutils literal"><span class="pre">rpc</span></tt> takes as input a function and executes that function on the <tt class="docutils literal"><span class="pre">exp_tracker</span></tt> object. In this case, the input function to <tt class="docutils literal"><span class="pre">rpc</span></tt> is a function which takes an object and calls it&#8217;s <tt class="docutils literal"><span class="pre">end_task</span></tt> method.</p>
</div></blockquote>
</li>
<li><p class="first">Track.stoptask executes the command</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">task_proxy</span><span class="o">.</span><span class="n">end_task</span><span class="p">()</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">exp_tracker</span></tt>&#8216;s attribute <tt class="docutils literal"><span class="pre">task_proxy</span></tt> is an instance of the <tt class="docutils literal"><span class="pre">ObjProxy</span></tt> class defined in <tt class="docutils literal"><span class="pre">$BMI3D/db/tasktrack.py</span></tt>, which is a proxy object for interacting with the real task object. Remember, the real task object is running in another process and cannot be directly accessed.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">ObjProxy</span></tt> tries to remotely look up the attribute <tt class="docutils literal"><span class="pre">end_task</span></tt> of the remotely running task. So it sends some data through the pipe to the remote process</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">cmds</span><span class="o">.</span><span class="n">send</span><span class="p">((</span><span class="s">&quot;__getattr__&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">attr</span><span class="p">],</span> <span class="p">{}))</span>
</pre></div>
</div>
<p>and waits for a response.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">runtask</span></tt> function is listening on the other end of the pipe and tries to look up the attribute <tt class="docutils literal"><span class="pre">end_task</span></tt> in the line. Since <tt class="docutils literal"><span class="pre">end_task</span></tt> is a method declared in the class and not an attribute, this throws an Exception back through the pipe. This is a somewhat confusing result. Consider the following block of code:</p>
<blockquote>
<div><blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="k">class</span> <span class="nc">test</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
   <span class="o">...</span><span class="p">:</span>     <span class="k">def</span> <span class="nf">b</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
   <span class="o">...</span><span class="p">:</span>         <span class="k">pass</span>
   <span class="o">...</span><span class="p">:</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">ob</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">ob</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">bound</span> <span class="n">method</span> <span class="n">test</span><span class="o">.</span><span class="n">b</span> <span class="n">of</span> <span class="o">&lt;</span><span class="n">__main__</span><span class="o">.</span><span class="n">test</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x10b2fb290</span><span class="o">&gt;&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">ob</span><span class="o">.</span><span class="n">__getattr__</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">)</span>
<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span>                            <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">f30a43e210fa</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="n">ob</span><span class="o">.</span><span class="n">__getattr__</span><span class="p">(</span><span class="s">&#39;b&#39;</span><span class="p">)</span>

<span class="ne">AttributeError</span><span class="p">:</span> <span class="s">&#39;test&#39;</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s">&#39;__getattr__&#39;</span>
</pre></div>
</div>
</div></blockquote>
<p>In the snippet above, the built-in function <tt class="docutils literal"><span class="pre">getattr</span></tt> has a different behavior from <tt class="docutils literal"><span class="pre">ob.__getattr__</span></tt>. So sometimes Python treats functions as objects, but declared functions are not attributes of a class. (You can, however, have attributes which are functions..)</p>
</div></blockquote>
</li>
<li><p class="first">When <tt class="docutils literal"><span class="pre">ObjProxy</span></tt> receives an Exception, it assumes that the exception was due to a function lookup. So it creates a <tt class="docutils literal"><span class="pre">FuncProxy</span></tt> object. This <tt class="docutils literal"><span class="pre">FuncProxy</span></tt> object is functionally equivalent to <tt class="docutils literal"><span class="pre">self.task.end_task</span></tt> from (8)</p>
</li>
<li><p class="first">Now that the function <tt class="docutils literal"><span class="pre">self.task.end_task</span></tt> has been looked up, the command <tt class="docutils literal"><span class="pre">self.task.end_task()</span></tt> is executed. <tt class="docutils literal"><span class="pre">FuncProxy</span></tt> sends through the same pipe the object <tt class="docutils literal"><span class="pre">('end_task',</span> <span class="pre">[],</span> <span class="pre">dict())</span></tt>, instructing <tt class="docutils literal"><span class="pre">runtask</span></tt> to call <tt class="docutils literal"><span class="pre">Task.end_task</span></tt> instance method with no arguments.</p>
</li>
<li><p class="first">Finally, we execute what appears to be the same line of code as (8)</p>
<blockquote>
<div><blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">end_task</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>but on a different object. This time, <tt class="docutils literal"><span class="pre">self.task</span></tt> attribute is an instance of <tt class="docutils literal"><span class="pre">riglib.experiment.Experiment</span></tt></p>
</div></blockquote>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">riglib.experiment.Experiment.end_task</span></tt> sets a boolean flag which instructs the event loop to gracefully exit.</p>
</li>
</ol>
</div>
<div class="section" id="remotely-viewing-the-experiment-status">
<h2>Remotely viewing the experiment status<a class="headerlink" href="#remotely-viewing-the-experiment-status" title="Permalink to this headline">¶</a></h2>
<p>The browser provides a good medium not only for sending the task commands through various buttons and knobs but also for receiving feedback about the current state of the task (e.g., what phase of the trial is currently ongoing? how many rewards per minutes is the subject achieving?). Such feedback is handled through the <tt class="docutils literal"><span class="pre">db.websocket</span></tt> module and the feature <tt class="docutils literal"><span class="pre">db.websocket.NotifyFeat</span></tt> which is automatically added to all tasks which start through the browser.</p>
<p>Every descendant of <tt class="docutils literal"><span class="pre">riglib.experiment.Experiment</span></tt> (which should be every task..) has a dictionary called <tt class="docutils literal"><span class="pre">self.reportstats</span></tt>. This dictionary can use any string as a key and any JSON serializable object as a value. When the <tt class="docutils literal"><span class="pre">set_state</span></tt> function of the task runs, the data from the dictionary is sent to the Report field of the browser. Since it is a dictionary, any text-based data which is useful to the experimenter can be sent to the browser for better control over the experiment.</p>
</div>
<div class="section" id="saving-data-to-the-database">
<h2>Saving data to the database<a class="headerlink" href="#saving-data-to-the-database" title="Permalink to this headline">¶</a></h2>
<p><strong>Creating database records</strong></p>
<p>When tasks are started from the browser using the &#8220;Start Experiment&#8221; button, a chain of events similar to the &#8220;Stop Experiment&#8221; events is executed. A new database record is created as an empty slot to store data about the current experiment. The function <tt class="docutils literal"><span class="pre">db.tracker.ajax.start_experiment</span></tt> creates a new TaskEntry row and links the appropriate Subject and Sequence records. If the &#8220;Start Experiment&#8221; button is pressed, this row in the TaskEntry table is saved so that files can be linked to the TaskEntry database record after the experiment is finished. If the &#8220;Test&#8221; button is used, then the Django object is only a python object and is not stored to the database table.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the database file changes every time you run a new experiment block, so you may want to back up snapshots of the database as it changes, e.g., make a copy of the database at the end of each experiment session, just in case.</p>
</div>
<p><strong>Linking files</strong></p>
<p>When tasks started from the browswer interface are to be saved, database records of files must be created and linked back to TaskEntry objects. However, since the task runs in a process outside the webserver, it is unsafe for the remote process to directly write to the database, as this may result in multiple processes writing to the same database at the same time and may corrupt the database.</p>
<p>To allow remote access to the database, <tt class="docutils literal"><span class="pre">db/tasktrack.py</span></tt> uses the <tt class="docutils literal"><span class="pre">xmlrpclib</span></tt> library:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">database</span> <span class="o">=</span> <span class="n">xmlrpclib</span><span class="o">.</span><span class="n">ServerProxy</span><span class="p">(</span><span class="s">&quot;http://localhost:8000/RPC2/&quot;</span><span class="p">,</span> <span class="n">allow_none</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">cleanup</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">saveid</span><span class="p">,</span> <span class="n">subject</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">subj</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">database</span></tt> is an object with access to the methods of <tt class="docutils literal"><span class="pre">db/tracker/dbq.py</span></tt>, which contains the code which would be used to record various types of files in the database.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The Browser Interface</a><ul>
<li><a class="reference internal" href="#architecture">Architecture</a></li>
<li><a class="reference internal" href="#data-transfer-between-the-browser-and-the-webserver">Data transfer between the browser and the webserver</a></li>
<li><a class="reference internal" href="#interacting-with-the-task">Interacting with the task</a></li>
<li><a class="reference internal" href="#remotely-viewing-the-experiment-status">Remotely viewing the experiment status</a></li>
<li><a class="reference internal" href="#saving-data-to-the-database">Saving data to the database</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="database.html"
                        title="previous chapter">The Database</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="bmi.html"
                        title="next chapter">Brain-machine interface (BMI) code</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tracker.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="bmi.html" title="Brain-machine interface (BMI) code"
             >next</a> |</li>
        <li class="right" >
          <a href="database.html" title="The Database"
             >previous</a> |</li>
        <li><a href="index.html">BMI3D 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, James Gao; 2015, James Gao, Helene Moorman, Suraj Gowda, Siddharth Dangi.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>